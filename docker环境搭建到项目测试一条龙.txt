配置网络就不说了
-----------------------------------------------------------------------------------------
禁用防火墙
systemctl disable firewalld
-----------------------------------------------------------------------------------------
安装docker
yum install -y docker
-----------------------------------------------------------------------------------------
开启docker
systemctl start docker
-----------------------------------------------------------------------------------------
设置docker开机自启
systemctl enable docker
-----------------------------------------------------------------------------------------
配置docker的加速镜像
vi /etc/docker/daemon.json
----------------------------------------------------------------|
{								|
	"registry-mirrors":["https://registry.docker-cn.com"]	|
}								|
----------------------------------------------------------------|

-----------------------------------------------------------------------------------------
拉取并启动mysql:5.7镜像,并将配置和数据目录挂载到主机目录中,设置(默认用户root的)密码123456
docker run -p 3306:3306 \
--name mysql_1 \
-v mysql_conf:/etc/mysql/conf.d \
-v mysql_datadir:/var/lib/mysql \
-e MYSQL_ROOT_PASSWORD=123456 \
-d mysql:5.7

-----------------------------------------------------------------------------------------
拉取并启动redis镜像
docker run --name redis_1 -p 6379:6379 -v redis_data:/data -d redis 

-----------------------------------------------------------------------------------------
拉取并启动tomcat镜像,将容器的/usr/local/tomcat/webapps目录挂载到主机的/var/lib/docker/volume/webapps目录中
docker run --name tomcat_1 -p 8080:8080 -v webapps:/usr/local/tomcat/webapps -d tomcat 

docker run --name harbor_1 -p 9000:9000 --volumes-from tomcat_1 -d registry.cn-hangzhou.aliyuncs.com/ftibw/docker




镜像已经做好了下面的步骤不需要了
=========================================================================================
制作测试项目镜像harbor，这就不多说了
或者直接从自己的私有仓库拉去制作完成的镜像
先登录
sudo docker login --username=2454612933@qq.com registry.cn-hangzhou.aliyuncs.com
然后拉取镜像
sudo docker pull registry.cn-hangzhou.aliyuncs.com/ftibw/docker

-----------------------------------------------------------------------------------------
启动测试项目,并共享tomcat_1的挂载目录
docker run --name harbor_1 -p 9000:9000 --volumes-from tomcat_1 -d harbor

-----------------------------------------------------------------------------------------

springboot docker集成
------------------------------------------------------------------------------------------------------
FROM frolvlad/alpine-oraclejdk8:slim
VOLUME /tmp
ADD lidong-spring-boot-demo-1.0-SNAPSHOT.jar app.jar
RUN sh -c 'touch /app.jar'
ENV JAVA_OPTS=""
ENTRYPOINT [ "sh", "-c", "java $JAVA_OPTS -Djava.security.egd=file:/dev/./urandom -jar /app.jar" ]
------------------------------------------------------------------------------------------------------

通过PARAMS注入环境变量(服务器地址)
不能像windows中用"--变量名=变量值"了，
只能像注入系统变量那样"-D变量名=变量值"
docker run --name harbor_1 -e PARAMS="-Dserver-address=192.168.1.80" -p 9000:9000 --volumes-from tomcat_1 -d registry.cn-hangzhou.aliyuncs.com/ftibw/docker